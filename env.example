# Yorick Production Environment Configuration
# Copy this file to .env and customize with your values

# =============================================================================
# REQUIRED: Rails Configuration
# =============================================================================

# Generate this once and keep it persistent (DO NOT CHANGE after first run)
# Run: openssl rand -hex 64
SECRET_KEY_BASE=your_generated_secret_key_here_64_characters_long

# =============================================================================
# REQUIRED: Database Configuration
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_DB=yorick
POSTGRES_USER=yorick
POSTGRES_PASSWORD=your_secure_database_password_here

# Database URL (auto-generated from above variables)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# =============================================================================
# REQUIRED: Elasticsearch Configuration
# =============================================================================

# Elasticsearch URL (internal Docker network)
ELASTICSEARCH_URL=http://elasticsearch:9200

# Elasticsearch Settings
discovery.type=single-node
xpack.security.enabled=false
ES_JAVA_OPTS=-Xms512m -Xmx512m
cluster.name=yorick-cluster
node.name=yorick-node

# =============================================================================
# OPTIONAL: Application Configuration
# =============================================================================

# Rails Environment
RAILS_ENV=production

# Logging Level (debug, info, warn, error, fatal)
RAILS_LOG_LEVEL=info

# Serve static files (true/false)
RAILS_SERVE_STATIC_FILES=true

# Disable SSL for development (set to false for production with SSL)
DISABLE_SSL=false

# =============================================================================
# OPTIONAL: Redis Configuration (uncomment if using Redis)
# =============================================================================

# REDIS_URL=redis://redis:6379

# =============================================================================
# OPTIONAL: External Services
# =============================================================================

# External Elasticsearch (if not using Docker)
# ELASTICSEARCH_URL=http://your-elasticsearch-host:9200

# External Database (if not using Docker)
# DATABASE_URL=postgresql://user:pass@host:5432/db

# =============================================================================
# OPTIONAL: Performance Tuning
# =============================================================================

# Web server concurrency
WEB_CONCURRENCY=2

# Rails max threads
RAILS_MAX_THREADS=5

# =============================================================================
# OPTIONAL: Monitoring and Debugging
# =============================================================================

# Enable Rails server timing
RAILS_SERVER_TIMING=false

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 
# 1. SECRET_KEY_BASE: Generate once and keep persistent
#    - Changing this will invalidate all user sessions
#    - Use: openssl rand -hex 64
#
# 2. POSTGRES_PASSWORD: Use a strong, unique password
#    - At least 12 characters with mixed case, numbers, symbols
#
# 3. File Permissions: Ensure .env is readable only by the application
#    - chmod 600 .env
#
# 4. Backup: Keep secure backups of your .env file
#    - Store in a secure location, not in version control
#
# ============================================================================= 